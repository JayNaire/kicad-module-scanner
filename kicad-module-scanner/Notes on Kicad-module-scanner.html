<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Insert title here</title>
</head>
<body>

<h1>Notes on  kicad-module-scanner</h1><br><big><b>Why I wrote kms (kvm).</b></big><br><br>I recently encountered problems producing artwork from a proprietary Windows PCB package that I've been using for years. I tried out Kicad and was surprised at how capable it is but was frustrated by how time consuming it was to find a footprint as there was no search/preview facility that could search and preview all footprint libraries at the same time (whether they were part of a project or not) . <br><br><b><big>The solution</big></b><br>I really didn't want to spend time getting in to the Kicad source (it uses wxWidgets which I'm not familiar with) therefore I used a  straightforward, albeit inelegant, approach:<br> Construct some scripts to produce a very simple xml database of all footprints  in all (user specifiable)   libraries.<br>Use Qt (which I have some familiarity with) to provide a gui frontend to these scripts and enable  XPath to query this database (on number of pins,  keywords etc.).<br><br>Previewing  the results was done by translating Kicad module format to Postscript and  some more script took care of copying footprints between libraries.<br><br><b>The Problems</b><br>Sadly, Postscript wasn't a particular good choice of format for output as the support in Qt widgets is  zero and my intention of putting a preview window inside the gui wasn't possible without a good deal more work; hence the rather clumsy reliance on an external Postscript application to preview footprints. [This has now been fixed with the FootprintWidget.] I did try using SVG instead of Postscript but this was also problematic mainly due to lack of Qt documentation on using svg classes. Seems the way to go is to use standard Qt graphics with a specialised subclassing for Kicad modules.<br><br><b>The Successes</b><br>XQuery was a superb choice. It seems to have no trouble dealing with 100+MB files and is quick to develop and test.</body>
</html>